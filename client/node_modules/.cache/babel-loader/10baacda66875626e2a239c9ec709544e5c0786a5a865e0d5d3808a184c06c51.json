{"ast":null,"code":"var _jsxFileName = \"/home/mateus/Documentos/programacao/projetosGit/transferencia/client/src/Components/Login/index.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport Input from \"../Input\";\nimport Button from \"../Button\";\nimport { CardLogin, Container, ParStyled, ResulCadastro } from \"./style\";\nimport { Link } from \"react-router-dom\";\nimport * as yup from 'yup';\nimport { AuthContext } from \"../../Auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n  const {\n    login,\n    status,\n    setStatus\n  } = useContext(AuthContext);\n  const [user, setUser] = useState({\n    username: '',\n    password: ''\n  });\n  // const [data, setData] = useState('')\n\n  const validate = async () => {\n    const schema = yup.object().shape({\n      password: yup.string('Favor preencher com uma válida!').min(6, 'Digite uma senha com no mínimo 6 caracteres!').required('Favor preencher com uma senha válida!'),\n      username: yup.string('Favor preencher um nome válido!').required('Favor preencher com um nome válido!')\n    });\n    try {\n      await schema.validate(user);\n      return true;\n    } catch (err) {\n      setStatus(err);\n    }\n  };\n  const handleClick = async () => {\n    if (!(await validate(user))) return;\n    await login(user.username, user.password);\n\n    // const init = {\n    //   method: 'POST', \n    //   headers: {\n    //     \"Content-Type\":'application/json'\n    //   },\n    //   body: JSON.stringify({\n    //     username: user.username,\n    //     password: user.password\n    //   })\n    // }\n    // const response = await fetch(\"http://localhost:8080/login\", init)\n    // .then((res)=> res.json())\n    // .then((res)=> res.token)\n    // .catch((err)=> setData(err))\n    // console.log(response)\n    // return setData(response)\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(CardLogin, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ResulCadastro, {\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Nome de usu\\xE1rio\", /*#__PURE__*/_jsxDEV(Input, {\n          type: 'text',\n          name: 'username',\n          value: user.username,\n          onChange: e => {\n            setUser({\n              username: e.target.value,\n              password: user.password\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Senha\", /*#__PURE__*/_jsxDEV(Input, {\n          type: 'password',\n          name: 'password',\n          value: user.password,\n          onChange: e => {\n            setUser({\n              username: user.username,\n              password: e.target.value\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: 'submit',\n        onClick: handleClick,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ParStyled, {\n        children: [\"Ainda n\\xE3o tem conta na NG Cash? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: '/cadastro',\n          children: \"Cadastrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ParStyled, {\n        children: \"Cadastre agora e ganhe um b\\xF4nus de R$1.000,00 para transferir entre os usu\\xE1rios da plataforma\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"t3w1nhRsex0Aa9uGGh3LcOQCwqs=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","Input","Button","CardLogin","Container","ParStyled","ResulCadastro","Link","yup","AuthContext","Login","login","status","setStatus","user","setUser","username","password","validate","schema","object","shape","string","min","required","err","handleClick","e","target","value"],"sources":["/home/mateus/Documentos/programacao/projetosGit/transferencia/client/src/Components/Login/index.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport Input from \"../Input\";\nimport Button from \"../Button\";\nimport { CardLogin, Container, ParStyled, ResulCadastro } from \"./style\";\nimport { Link } from \"react-router-dom\";\nimport * as yup from 'yup';\nimport { AuthContext } from \"../../Auth\";\n\n\n\n\nexport default function Login(){\n  const { login, status, setStatus } = useContext(AuthContext)\n  const [user, setUser] = useState({\n    username: '',\n    password: ''\n  })\n  // const [data, setData] = useState('')\n\n  const validate = async () => {\n    const schema = yup.object().shape({\n      password: yup.string('Favor preencher com uma válida!')\n        .min(6, 'Digite uma senha com no mínimo 6 caracteres!')\n        .required('Favor preencher com uma senha válida!'),\n      username: yup.string('Favor preencher um nome válido!')\n        .required('Favor preencher com um nome válido!'),\n    });\n    try {\n      await schema.validate(user);\n      return true;\n    } catch (err) {\n      setStatus(err)\n    }\n  }\n  const handleClick = async ()=>{\n    if(!(await validate(user))) return\n\n    await login(user.username, user.password)\n    \n    // const init = {\n    //   method: 'POST', \n    //   headers: {\n    //     \"Content-Type\":'application/json'\n    //   },\n    //   body: JSON.stringify({\n    //     username: user.username,\n    //     password: user.password\n    //   })\n    // }\n    // const response = await fetch(\"http://localhost:8080/login\", init)\n    // .then((res)=> res.json())\n    // .then((res)=> res.token)\n    // .catch((err)=> setData(err))\n    // console.log(response)\n    // return setData(response)\n  }\n  return(\n    <Container>\n      \n      \n      <CardLogin>\n      <h1>Login</h1>\n      <ResulCadastro>{status}</ResulCadastro>\n      <label>\n        Nome de usuário\n      <Input\n      type={'text'}\n      name={'username'}\n      value={user.username}\n      onChange={(e)=> {\n        setUser({\n          username: e.target.value,\n          password: user.password\n        })\n      }}\n      />\n      </label>\n      <label>\n        Senha\n      <Input\n      type={'password'}\n      name={'password'}\n      value={user.password}\n      onChange={(e)=>{\n        setUser({\n          username: user.username,\n          password: e.target.value\n        })\n      }}\n      />\n      </label>\n      <Button\n      type={'submit'}\n      onClick={handleClick}\n      >\n        Login\n      </Button>\n      <ParStyled>Ainda não tem conta na NG Cash? <Link to={'/cadastro'}>Cadastrar</Link></ParStyled>\n      <ParStyled>Cadastre agora e ganhe um bônus de R$1.000,00 para transferir entre os usuários da plataforma</ParStyled>\n      </CardLogin>\n\n    </Container>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}